### üß© Session 1: Foundations & IAM

| **#** | **step** | **description**  |**details**|
|----------|-----------------|-----------------|------|
|0         |**Prerequisites for Facilitators:**<br>SSH key pairs (or guide for generating)<br>Example CSV file for Athena exercises<br>Sample IAM policy templates<br>User data scripts for EC2 auto-installation<br>Pre-created VPC with private and public subnets (or use default)<br>Quick reference sheet / Cheatsheet PDF<br>Enable AWS CloudTrail **before** the workshop"|SHOW THE CLASS - - <br>Enable AWS CloudTrail **before** the workshop|üîπ Step 1: Go to the CloudTrail Console<br>https://console.aws.amazon.com/cloudtrail<br>üîπ Step 2: **Choose**: `Trails` from the sidebar<br>- If none exists, click **"Create trail"**<br>üîπ Step 3: **Trail Name**:<br>- Example: `WorkshopTrail`<br>üîπ Step 4: **Storage Location**:<br>- Choose or create an **S3 bucket** to store logs (e.g. `aws-workshop-cloudtrail-logs`)<br>üîπ Step 5: **Apply Trail To All ‚úÖ<br>- Recommended: Ensures activity is tracked even if students switch regions.<br>üîπ Step 6: **Management Events**:<br>- Enable **Read and Write events**<br>üîπ Step 7:. Insight Events (optional)**- Helps with detecting unusual activity (good for longer workshops or debugging)<br>üîπ Step 8: **Create Trail**<br>üìù **Note**: CloudTrail starts recording immediately but events may take a few minutes to show in the logs.
|1         |Login to AWS Console|Change console theme (dark/light)<br>Add bookmarks for: IAM, EC2, S3, CloudWatch<br>Explore service search, region selection|Participants should be comfortable navigating the console, using bookmarks to access frequently used services, and adjusting the theme to their preference.|
|2          |Check two users within the IAM demo groups:<br>[Developers Group]<br>[QA Group]|Examine the policies attached to each group.<br>Simulate each user's access to various resources using the IAM Policy Simulator.|Developers should have permissions to **read/write to AWS CodeCommit** and deploy code to **Elastic Beanstalk or EC2** QA Engineers should have **read-only access to CodeCommit**, and permissions to view logs in **CloudWatch** and **X-Ray** for troubleshooting.|
|3         |Use IAM Policy Simulator|Simulate each user's access to various resources using the **IAM Policy Simulator**.|For Developers: Verify if they can **push code** to the repository.<br>For QA Engineers: Verify if they can access **CloudWatch logs** and troubleshoot issues.|
|4         |Check ANSWER|Check policies|Developers<br>- `AWSCodeCommitReadOnly`: Allows read access to the code repository in AWS CodeCommit.<br>- `AWSCodeDeployFullAccess`: Allows developers to deploy the code using AWS CodeDeploy.<br>- `AmazonS3FullAccess`: Enables read and write access to the S3 buckets related to the project.<br>- *Custom policy for Elastic Beanstalk or EC2 instances deployment, which allows developers to create, update, and delete resources related to the application.*<br>QA Engineers:<br>- `AWSCodeCommitReadOnly`: Allows read access to the code repository in AWS CodeCommit.<br>- `AmazonS3ReadOnlyAccess`: Enables read access to the S3 buckets related to the project.<br>- `CloudWatchReadOnlyAccess`: Allows QA engineers to access logs from Amazon CloudWatch.<br>- `AWSXRayReadOnlyAccess`: Provides read access to AWS X-Ray to help QA engineers in troubleshooting and performance analysis.|
|5         |Create a Role|- Create a new **IAM Role** that allows EC2 instances to assume the role for accessing S3.<br>- Select **EC2** as the trusted entity.<br>- Attach a policy like `AmazonS3ReadOnlyAccess` to allow the EC2 instance to read from S3.|When launching or modifying an EC2 instance, choose the IAM Role created earlier to grant it access to the necessary resources.|
|6         |Create Access keys for an user|- **Create Access Keys**:<br>- Use the IAM console to create **access keys** for the non-admin user.<br>- Copy the **access key** and **secret key** and configure them using the AWS CLI by running:<br>- `aws configure`<br>- Enter the Access Key and Secret Key when prompted.|- **Verify CLI Configuration**:<br>- Test the configuration by running:<br>- `aws iam list-users`<br>- The user should only have access to the **permissions granted to their IAM group**.|
|7         |CHECKPOINT|-----------------|After completing this exercise, participants should be able to:<br>- Understand the purpose of IAM users, groups, roles, and policies.<br>- Use the **IAM Policy Simulator** to test and validate permissions.<br>- Apply the **least privilege principle** when assigning permissions.|
